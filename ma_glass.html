<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>js 效果 －  柠檬不萌</title>
<link href="css/base.css" rel="stylesheet">
<link href="css/css_list.css" rel="stylesheet">
<style>
* { margin:0; padding:0; }
.box{position: relative;}
.box div { overflow:hidden; position:absolute; top:50px; width:310px; height:310px; }
#div1 { left:50px; background:url(assets/images/m1.jpg) no-repeat; }
span { display:none; position:absolute; top:0; left:0; width:100px; height:100px; background:yellow; opacity:0.3; }
#div2 { display:none; left:380px; }
img { position:absolute; top:0; left:0; width:900px; height:900px; }
</style> 
<script src="jquery-1.7.2.js"></script>
<script>
$(function (){
    var oDiv1=$('#div1');
    var oSpan=$('#span1');
    var oDiv2=$('#div2');
    var oImg=$('#img1');
    var nMaxLeft=oDiv1.width()-oSpan.width();
    var nMaxTop=oDiv1.height()-oSpan.height();
    var nMaxImgLeft=oImg.width()-oDiv2.width();
    var nMaxImgTop=oImg.height()-oDiv2.height();

    oDiv1.hover(function (){
        oSpan.show();
        oDiv2.show();
    }, function (){
        oSpan.hide();
        oDiv2.hide();
    });

    oDiv1.mousemove(function (ev){
        var left=ev.clientX-oDiv1.offset().left-oSpan.width()/2;
        var top=ev.clientY-oDiv1.offset().top-oSpan.height()/2;
        if (left < 0)
        {
            left=0;
        }
        else if (left > nMaxLeft)
        {
            left=nMaxLeft;
        }

        if (top < 0)
        {
            top=0;
        }
        else if (top > nMaxTop)
        {
            top=nMaxTop;
        }

        oSpan.css({
            left:left+'px',
            top:top+'px'
        });

        oImg.css({
            left:-(left/nMaxLeft*nMaxImgLeft)+'px',
            top:-(top/nMaxTop*nMaxImgTop)+'px'
        });
    });
});
</script>
</head>

<body>
<div class="article">
    <div class="head">
        <h1><a href="/" class="name">柠檬</a><a href="index.html" class="home">F-Christina.github.io</a></h1>
    </div>
    <div class="main">
        <div class="left">
            <h2>放大镜</h2>
			<div class="box">
				<div id="div1">
			        <span id="span1"></span>
			    </div>
			    
			    <div id="div2">
			        <img src="assets/images/b1.jpg" id="img1" />
			    </div>
			</div>
        </div>
        <div class="right">
            
        </div>
    </div>
</div>
    
</body>
</html>











